(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b8ff46a4"],{"2ca9":function(t,e,a){"use strict";var s=a("e33a"),o=a.n(s);o.a},6941:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("tableData",{ref:"table",attrs:{config:t.table_config},scopedSlots:t._u([{key:"status",fn:function(e){return[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949",disabled:e.data.id===t.switch_disable},on:{change:function(a){return t.switchChange(e.data)}},model:{value:e.data.status,callback:function(a){t.$set(e.data,"status",a)},expression:"slotData.data.status"}})]}},{key:"operation",fn:function(e){return[a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){return t.edit(e.data)}}},[t._v("编辑")])]}}])}),a("cars-brand-add",{attrs:{dialogVisible:t.dialogVisible,data:t.data_brand},on:{close:t.close,refresh:t.refresh}})],1)},o=[],i=(a("99af"),a("405b")),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"新增车辆品牌",visible:t.isShow,"append-to-body":""},on:{"update:visible":function(e){t.isShow=e},close:t.close,opened:t.opened}},[a("VueForm",{ref:"vuForm",attrs:{formItem:t.form_item,form_handler:t.form_handler,formData:t.form},scopedSlots:t._u([{key:"logo",fn:function(){return[a("div",{staticClass:"upload-img-wrap"},[a("div",{staticClass:"upload-img"},[a("img",{directives:[{name:"show",rawName:"v-show",value:t.logo_current,expression:"logo_current"}],attrs:{src:t.logo_current}})]),a("ul",{staticClass:"img-list"},t._l(t.logo,(function(e){return a("li",{key:e.id,on:{click:function(a){return t.selectLogo(e)}}},[a("img",{attrs:{src:e.img,alt:"item.name"}})])})),0)])]},proxy:!0}])})],1)},r=[],l=a("a8b5"),d=a("b775");function c(t){return d["a"].request({method:"post",url:"/brand/logo/",data:t})}function u(t){return d["a"].request({method:"post",url:"/brand/add/",data:t})}function f(t){return d["a"].request({method:"post",url:"/brand/status/",data:t})}function h(t){return d["a"].request({method:"post",url:"/brand/edit/",data:t})}var m={name:"CarsBrandAdd",components:{VueForm:l["a"]},props:{dialogVisible:{type:Boolean,default:!1},data:{type:Object,default:function(){}}},data:function(){var t=this;return{form_item:[{type:"input",label:"品牌中文",prop:"nameCh"},{type:"input",label:"品牌英文",prop:"nameEn"},{type:"slot",label:"LOGO",slotName:"logo"},{type:"radio",label:"禁启用",prop:"status",required:!0,options:this.$store.state.config.radio_disabled}],form_handler:[{label:"确定",type:"danger",handler:function(){return t.submit()}}],isShow:this.dialogVisible,form:{nameCh:"",nameEn:"",imgUrl:"",status:"",content:""},logo_current:"",logo:[],status:this.$store.state.config.radio_disabled}},watch:{dialogVisible:function(t,e){this.isShow=t}},methods:{close:function(){this.$emit("close")},opened:function(){this.getBrandLogo(),this.getDetailed()},getDetailed:function(){this.form=this.data,this.logo_current=this.data.imgUrl,this.form.imgUrl=this.logo_current},getBrandLogo:function(){var t=this;0==this.logo.length&&c().then((function(e){var a=e.data.data;a&&(t.logo=a)}))},selectLogo:function(t){this.logo_current=t.img},submit:function(){this.data.id?this.edit():this.add()},add:function(){var t=this;this.form.imgUrl=this.logo_current,u(this.form).then((function(e){t.$message({message:e.data.message,type:"success"}),t.$emit("refresh"),t.reset(),t.close()}))},edit:function(){var t=this;this.form.imgUrl=this.logo_current;var e=JSON.parse(JSON.stringify(this.form));h(e).then((function(e){t.$message({message:e.data.message,type:"success"}),t.$emit("refresh"),t.reset(),t.close()}))},reset:function(){this.$refs.vuForm.$refs.form.resetFields(),this.logo_current=""}}},g=m,p=(a("2ca9"),a("2877")),b=Object(p["a"])(g,n,r,!1,null,null,null),_=b.exports,v={name:"CarsBrandIndex",components:{CarsBrandAdd:_,tableData:i["a"]},data:function(){var t=this;return{table_config:{thead:[{label:"Logo",prop:"imgUrl",type:"image",imgWidth:50,width:200},{label:"车辆品牌",prop:"nameCh",type:"function",callback:function(t,e){return"".concat(t.nameCh,"/").concat(t.nameEn)}},{label:"禁启用",prop:"status",type:"slot",slotName:"status"},{label:"操作",type:"operation",default:{deleteButton:!0},slotName:"operation"}],form_item:[{label:"车辆品牌",prop:"brand",type:"input",placeholder:"请输入车辆品牌"}],form_handler:[{label:"新增车辆品牌",prop:"add",type:"success",element:"button",handler:function(){t.dialogVisible=!0}}],url:"brandList",delete_url:"brandDelete",data:{pageSize:10,pageNumber:1}},switch_disable:"",dialogVisible:!1,form:{brand:""},data_brand:{}}},methods:{refresh:function(){this.$refs.table.requestData()},close:function(){this.dialogVisible=!1},switchChange:function(t){var e=this,a={id:t.id,status:t.status};this.switch_disable=t.id,f(a).then((function(t){e.$message({type:"success",message:t.data.message}),e.switch_disable=""})).catch((function(t){e.switch_disable=""}))},edit:function(t){this.data_brand=JSON.parse(JSON.stringify(t)),this.dialogVisible=!0}}},y=v,w=Object(p["a"])(y,s,o,!1,null,null,null);e["default"]=w.exports},e33a:function(t,e,a){}}]);